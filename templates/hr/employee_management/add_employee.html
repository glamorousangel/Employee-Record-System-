<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Management System - Add Employee</title>
    <link rel="stylesheet" href="../../../static/css/addEmployee.css">
</head>
<body>

    <div class="container">
        <aside class="sidebar">
            </aside>

        <main class="main">
            <div class="content-card">
                <form class="form-grid" id="addEmployeeForm">
                    
                    <section class="form-section-box">
                        <div class="section-header">Basic Information</div>
                        <div class="section-body">
                            
                            <div class="photo-container">
                                <div class="photo-circle">
                                    <svg viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                                </div>
                                <span class="photo-label">Upload Photo (Optional)</span>
                            </div>

                            <div class="inputs-row">
                                <div class="input-item">
                                    <label>First Name</label>
                                    <input type="text" id="firstName" placeholder="Enter first name" required>
                                </div>
                                <div class="input-item">
                                    <label>Last Name</label>
                                    <input type="text" id="lastName" placeholder="Enter last name" required>
                                </div>
                                <div class="input-item">
                                    <label>Employment I.D</label>
                                    <input type="text" id="empID" placeholder="Enter Employment I.D" required>
                                </div>
                                <div class="input-item">
                                    <label>Employment Status</label>
                                    <select id="empStatus" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc;">
                                        <option value="Active">Active</option>
                                        <option value="Inactive">Inactive</option>
                                        <option value="On Leave">On Leave</option>
                                    </select>
                                </div>
                                <div class="input-item">
                                    <label>Employment Type</label>
                                    <input type="text" id="empType" placeholder="Enter Employment Type">
                                </div>
                                <div class="input-item">
                                    <label>Department / Office</label>
                                    <input type="text" id="dept" placeholder="Enter Department / Office" required>
                                </div>
                                <div class="input-item">
                                    <label>Position/Rank</label>
                                    <input type="text" id="pos" placeholder="Enter Position/Rank" required>
                                </div>
                                <div class="input-item">
                                    <label>Date Hired</label>
                                    <input type="date" id="dateHired" style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ccc;">
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="form-section-box">
                        <div class="section-header">Personal Information</div>
                        <div class="section-body">
                            <div class="full-width-item">
                                <label>Email Address</label>
                                <input type="email" id="email" placeholder="Enter Email Address">
                            </div>
                            <div class="full-width-item">
                                <label>Contact Number</label>
                                <input type="text" id="contact" placeholder="Enter Contact Number">
                            </div>
                            <div class="full-width-item">
                                <label>Address</label>
                                <input type="text" id="address" placeholder="Enter Address">
                            </div>

                            <h4 class="sub-header">Emergency Contact</h4>
                            <div class="inputs-row">
                                <div class="input-item">
                                    <label>Emergency Contact Name</label>
                                    <input type="text" id="emergencyName" placeholder="Enter Emergency Contact Name">
                                </div>
                                <div class="input-item">
                                    <label>Emergency Contact Number</label>
                                    <input type="text" id="emergencyPhone" placeholder="Enter Emergency Contact Number">
                                </div>
                            </div>
                        </div>
                    </section>
                </form>

                <div class="form-footer">
                    <button type="button" class="btn btn-cancel" onclick="window.location.href='list.html'">Cancel</button>
                    <button type="button" class="btn btn-save" onclick="saveEmployee()">Save</button>
                </div>
            </div>
        </main>
    </div>

    <script>
        function saveEmployee() {
            // Validate required fields
            const fName = document.getElementById('firstName').value;
            const lName = document.getElementById('lastName').value;
            const id = document.getElementById('empID').value;
            const department = document.getElementById('dept').value;
            const position = document.getElementById('pos').value;
            const status = document.getElementById('empStatus').value;

            if(!fName || !lName || !id) {
                alert("Please fill in Name and Employee ID");
                return;
            }

            // Create employee object
            const newEmployee = {
                id: id,
                fullName: lName + ", " + fName,
                dept: department,
                pos: position,
                status: status
            };

            // Get existing list or empty array
            let employees = JSON.parse(localStorage.getItem('addedEmployees')) || [];
            
            // Add new record
            employees.push(newEmployee);
            
            // Save to browser memory
            localStorage.setItem('addedEmployees', JSON.stringify(employees));

            // Go back to the list
            window.location.href = 'list.html';
        }
    </script>
</body>
</html>